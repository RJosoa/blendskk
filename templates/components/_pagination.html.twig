{% if pagination.totalPages > 1 %}
<div class="flex justify-center mt-8 mb-16">
    <div class="flex space-x-2">
        {% if pagination.currentPage > 1 %}
            <a href="{{ path(app.request.attributes.get('_route'), app.request.attributes.get('_route_params')|merge({page: pagination.currentPage - 1})) }}"
               class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300">
                Previous
            </a>
        {% endif %}

        {% for i in max(1, pagination.currentPage - 2)..min(pagination.totalPages, pagination.currentPage + 2) %}
            {% if i == pagination.currentPage %}
                <span class="px-4 py-2 bg-black text-white rounded-md">{{ i }}</span>
            {% else %}
                <a href="{{ path(app.request.attributes.get('_route'), app.request.attributes.get('_route_params')|merge({page: i})) }}"
                   class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300">
                    {{ i }}
                </a>
            {% endif %}
        {% endfor %}

        {% if pagination.currentPage < pagination.totalPages %}
            <a href="{{ path(app.request.attributes.get('_route'), app.request.attributes.get('_route_params')|merge({page: pagination.currentPage + 1})) }}"
               class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300">
                Next
            </a>
        {% endif %}
    </div>
</div>
{% endif %}
